package message

import (
	"testing"
)

var message1077Bitstream = []byte{

	// A real RTCM message captured from a UBlox GPS device.  Type 1077
	// (an MSM7) carrying signals from GPS satellites, padded with null
	// bytes at the end. .  The multiple message flag is set so this is a
	// multiple message.  The sequence number is 0, so it contains only
	// the first few signal cells.
	//
	// Message frame.
	// 0xd3, 0x00, 0xdc, // leader - message length (0xdc - 220)
	// Message:
	//                                    mmf
	//                             0110 00|1|0 00|00 0000
	0x43, 0x50, 0x00, 0x67, 0x00, 0x97, 0x62, 0x00,
	//                 satellite mask
	// 0|00|0 0|0|00   0|000 1000   0100 0000   1010 0000
	0x00, 0x08, 0x40, 0xa0,
	// 0110 0101   0000 0000   0000 0000   0000 0000
	0x65, 0x00, 0x00, 0x00,
	//               signal mask
	// 0000 0000   0|010 0000   0000 0000    1000 0000
	0x00, 0x20, 0x00, 0x80,
	//               Cell mask                        Satellite cell
	// 0000 0000   0|11|0 1|10|1   1|11|1  1|11|1   1|010   1000
	0x00, 0x6d, 0xff, 0xa8,
	// 1|010 1010   0|010 0110   0|010 0011   1|010 0110
	0xaa, 0x26, 0x23, 0xa6,
	// 1|010 0010   0|010 0011   0|010 0100   0|000 0|000
	0xa2, 0x23, 0x24, 0x00,
	// 0|000 0|000   0|000 0|000   0|000 0|000   0|011 0110
	0x00, 0x00, 0x00, 0x36,
	// 011|0 1000
	0x68, 0xcb, 0x83, 0x7a,
	0x6f, 0x9d, 0x7c, 0x04, 0x92, 0xfe, 0xf2, 0x05,
	//          Signal cells
	0xb0, 0x4a, 0xa0, 0xec, 0x7b, 0x0e, 0x09, 0x27,
	0xd0, 0x3f, 0x23, 0x7c, 0xb9, 0x6f, 0xbd, 0x73,
	0xee, 0x1f, 0x01, 0x64, 0x96, 0xf5, 0x7b, 0x27,
	0x46, 0xf1, 0xf2, 0x1a, 0xbf, 0x19, 0xfa, 0x08,
	0x41, 0x08, 0x7b, 0xb1, 0x1b, 0x67, 0xe1, 0xa6,
	0x70, 0x71, 0xd9, 0xdf, 0x0c, 0x61, 0x7f, 0x19,
	0x9c, 0x7e, 0x66, 0x66, 0xfb, 0x86, 0xc0, 0x04,
	0xe9, 0xc7, 0x7d, 0x85, 0x83, 0x7d, 0xac, 0xad,
	0xfc, 0xbe, 0x2b, 0xfc, 0x3c, 0x84, 0x02, 0x1d,
	0xeb, 0x81, 0xa6, 0x9c, 0x87, 0x17, 0x5d, 0x86,
	0xf5, 0x60, 0xfb, 0x66, 0x72, 0x7b, 0xfa, 0x2f,
	0x48, 0xd2, 0x29, 0x67, 0x08, 0xc8, 0x72, 0x15,
	0x0d, 0x37, 0xca, 0x92, 0xa4, 0xe9, 0x3a, 0x4e,
	0x13, 0x80, 0x00, 0x14, 0x04, 0xc0, 0xe8, 0x50,
	0x16, 0x04, 0xc1, 0x40, 0x46, 0x17, 0x05, 0x41,
	0x70, 0x52, 0x17, 0x05, 0x01, 0xef, 0x4b, 0xde,
	0x70, 0x4c, 0xb1, 0xaf, 0x84, 0x37, 0x08, 0x2a,
	0x77, 0x95, 0xf1, 0x6e, 0x75, 0xe8, 0xea, 0x36,
	0x1b, 0xdc, 0x3d, 0x7a, 0xbc, 0x75, 0x42, 0x80,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00,
	// 0xfe, 0x69, 0xe8, 0x00, // 24-bit Cyclic Redundancy Check
}

func TestGetMessage(t *testing.T) {

	message, err := GetMessage(message1077Bitstream)
	if err != nil {
		t.Fatal(err)
	}
	_ = message
}
