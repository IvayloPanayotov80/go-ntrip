# iOS PDF TTS (Bulgarian)

Минимално SwiftUI приложение за iPhone/iPad, което:
- Отваря PDF от Files (чрез системния диалог)
- Показва PDF с `PDFKit` и позволява скрол по страниците
- Чете на глас текст от текущата страница с `AVSpeechSynthesizer` (български език)
- Има контроли Play/Pause, Stop, избор на глас, скорост и височина
- По желание продължава автоматично към следващата страница

## Изисквания
- Xcode 15+ (iOS 15+ таргет)
- Не са нужни специални разрешения

## Как да го стартирате в Xcode
1. Отворете Xcode → File → New → Project… → iOS → App.
2. Interface: SwiftUI, Language: Swift. Дайте име (напр. `PDFBulgarianTTS`).
3. В Project Navigator добавете файловете от тази папка (`PDFTTSApp.swift`, `ContentView.swift`, `PDFKitView.swift`, `PDFReaderViewModel.swift`) към вашия таргет (Add Files to … → изберете файловете).
4. Уверете се, че импортите са налични: `PDFKit`, `AVFoundation`, `UniformTypeIdentifiers`.
5. Build & Run на устройство или симулатор.

## Използване
- Натиснете иконата с папка в навигацията, за да изберете PDF от Files.
- Скролирайте документа. Използвайте стрелките за прев/следваща страница.
- Натиснете Play за четене. Pause/Play пауза/възобновяване, Stop за спиране.
- Менюто „Глас“ показва наличните български гласове.
- Регулирайте скорост и височина от плъзгачите.

## Български гласове и повече варианти
- iOS предоставя български гласове чрез `AVSpeechSynthesizer`. За да изтеглите допълнителни/подобрени гласове:
  - Settings → Accessibility → Spoken Content → Voices → Bulgarian → изберете и изтеглете гласове (Enhanced, ако са налични).
- Приложението автоматично изброява наличните гласове и позволява избор.
- Можете да интегрирате и външни TTS услуги (Azure, Amazon Polly, Google Cloud, ElevenLabs) чрез HTTP API и да възпроизведете върнатия аудио поток в `AVAudioPlayer`. Това изисква мрежа и евентуално кеширане;
  текущата имплементация използва вградените системни гласове (офлайн).

## Функционални бележки
- Извличането на текст става от PDF слоя за текст. Ако PDF е сканиран (само изображения), ще е нужна OCR интеграция (`Vision` framework `VNRecognizeTextRequest`) с подходящи езици. Това не е включено тук.
- За четене във фонов режим може да активирате Background Modes → Audio в Signing & Capabilities.
- Отваряне на цели папки не се поддържа от системния файлов диалог; вместо това изберете отделни PDF файлове.

## Структура
- `PDFTTSApp.swift` — входна точка на SwiftUI приложението
- `ContentView.swift` — UI: импорт на PDF, контроли и PDF визуализация
- `PDFKitView.swift` — bridge към `PDFView` от `PDFKit`
- `PDFReaderViewModel.swift` — логика за четене, гласове и навигация по страници